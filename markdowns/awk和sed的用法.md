# awk和sed的用法

awk和sed是Linux/Unix系统中常用的文本处理工具，它们可以用于对文本进行搜索、替换、过滤、格式化等操作。下面分别介绍它们的用法：

## 1. awk的用法

awk是一种文本处理工具，常用于对文本进行搜索、替换、过滤、格式化等操作。它的基本语法如下：

```bash
awk [选项] '条件1 {动作1} 条件2 {动作2} ...' 文件名
```

其中，选项包括：

- -F：指定字段分隔符，默认为“空格”；
- -v：定义变量；
- -f：指定脚本文件。

条件和动作可以有多个，每个条件都可以对应一个动作。条件和动作之间用“{}”括起来。如果没有条件，则默认匹配所有行。

例如，假设有一个文本文件test.txt，内容如下：

```
hello world
foo bar
hello awk
```

要打印出所有包含“hello”的行，可以使用如下命令：

```
awk '/hello/ {print}' test.txt
```

输出结果为：

```
hello world
hello awk
```

其中，条件为“/hello/”，表示匹配包含“hello”的行；动作为“{print}”，表示打印匹配到的行。

## 2. sed的用法

sed是一种流编辑器，常用于对文本进行搜索、替换、删除、添加等操作。它的基本语法如下：

```
sed [选项] '动作1; 动作2; ...' 文件名
```

其中，选项包括：

- -n：只显示经过sed处理后的结果，不显示原始内容；
- -i：直接修改文件内容，不输出到标准输出；
- -e：指定多个动作。

动作可以有多个，每个动作之间用“;”分隔。每个动作可以是以下之一：

- s/正则表达式/替换字符串/：替换匹配到的字符串；
- d：删除匹配到的行；
- p：打印匹配到的行；
- a\：在匹配到的行后面添加一行文本；
- i\：在匹配到的行前面添加一行文本；
- c\：用新的文本替换匹配到的行。

例如，假设有一个文本文件test.txt，内容如下：

```
hello world
foo bar
hello sed
```

要将所有包含“hello”的行替换为“hi”，可以使用如下命令：

```
sed 's/hello/hi/g' test.txt
```

输出结果为：

```
hi world
foo bar
hi sed
```

其中，动作为“s/hello/hi/g”，表示将所有匹配到的“hello”替换为“hi”。选项“g”表示全局匹配，即一行中有多个匹配项都会被替换。